(spec 1 8 x (add (and (add (and (add (and (add (add (add x 1:8) 3:8) 5:8) 0x55:8) (and (lshr (add (add (add x 1:8) 3:8) 5:8) 1:8) 0x55:8)) 0x33:8) (and (lshr (add (and (add (add (add x 1:8) 3:8) 5:8) 0x55:8) (and (lshr (add (add (add x 1:8) 3:8) 5:8) 1:8) 0x55:8)) 2:8) 0x33:8)) 0x0F:8) (and (lshr (add (and (add (and (add (add (add x 1:8) 3:8) 5:8) 0x55:8) (and (lshr (add (add (add x 1:8) 3:8) 5:8) 1:8) 0x55:8)) 0x33:8) (and (lshr (add (and (add (add (add x 1:8) 3:8) 5:8) 0x55:8) (and (lshr (add (add (add x 1:8) 3:8) 5:8) 1:8) 0x55:8)) 2:8) 0x33:8)) 4:8) 0x0F:8)))

(lib add (fun ctpop x (add (and (add (and (add (and x 0x55:8) (and (lshr x 1:8) 0x55:8)) 0x33:8) (and (lshr (add (and x 0x55:8) (and (lshr x 1:8) 0x55:8)) 2:8) 0x33:8)) 0x0F:8) (and (lshr (add (and (add (and x 0x55:8) (and (lshr x 1:8) 0x55:8)) 0x33:8) (and (lshr (add (and x 0x55:8) (and (lshr x 1:8) 0x55:8)) 2:8) 0x33:8)) 4:8) 0x0F:8))) (const 8 9))
